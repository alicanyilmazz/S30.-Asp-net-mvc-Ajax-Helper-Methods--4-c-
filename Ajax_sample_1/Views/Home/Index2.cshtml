@model Ajax_sample_1.Models.TodoItem
@{
    ViewBag.Title = "Index2";
}

<h2>Index2</h2>
<div class="col-lg-12">

    @using (Ajax.BeginForm("Index2", new AjaxOptions() { HttpMethod = "POST", LoadingElementId = "loading_bar2", LoadingElementDuration = 300, UpdateTargetId = "result", InsertionMode = InsertionMode.InsertAfter }))
    {
        <div class="col-md-2">
            @Html.TextBoxFor(x => x.Text, new { @class = "form-control" })
        </div>

        <div class="col-md-10">
            <button type="submit" class="btn btn-success">Send</button>
        </div>

    }
    <br /><br />

</div>
<hr />
<div class="col-lg-12">
    <ul id="result" class="list-group">

        <li id="loading_bar2" class="list-group-item list-group-item-warning" style="display:none;">Loading...</li>

        @if(ViewBag.List!=null)
        {
            foreach (Ajax_sample_1.Models.TodoItem item in ViewBag.List)
            {
                <li id="id_@item.Id" class="list-group-item" style="margin-top:2%;border-color:deeppink; color:darkcyan;">@item.Text</li>
            }
        }

    </ul>
    <br />
</div>


@* Normalde boylebirsey yapmaya gerek yok cunku zaten kaydedilen veriyi yine veritabanınından cekip Index2 nin Get Action ı ile sayfaya göndereceksiniz fakat
    Simdilik eklemeler yaptık mesela sayfayı refresh yapınca veriler kaybolmasın diye ViewBag ile Session üzerinden verileri tuttuk normalde zaten veritabanı işlemleri
    olacak aslında bu göstermek amaclı yapılmıstır.Bir önceki örneğe bakabilirsin.*@